---
// ══════════════════════════════════════════════════════════════
// PAGE — RÉALISATIONS
// DÉSACTIVABLE : mv src/pages/realisations.astro src/pages-off/realisations.astro
// ══════════════════════════════════════════════════════════════
import Layout from '../layouts/Layout.astro';
import { client } from '../data/client';
const categories = ["Tous","Tableau","Éclairage","Domotique","Installation","Dépannage","Normes"];
const toutes = [...client.realisations, ...client.realisationsBonus];
---
<Layout title={`Réalisations — ${client.nom}`}>
  <div class="page-top"><div class="container" style="display:flex;justify-content:space-between;align-items:center;"><a href="/" class="back-link">← Retour</a><span style="font-weight:700;color:var(--blue-light);font-size:15px;">{client.nom}</span></div></div>
  <section class="section"><div class="container">
    <div style="text-align:center;margin-bottom:48px;">
      <span class="sec-tag reveal font-mono">// PORTFOLIO</span>
      <h1 class="sec-title reveal reveal-d1">Nos <span class="text-blue">interventions</span></h1>
      <p style="font-size:15px;color:var(--text-muted);margin-top:10px;max-width:480px;margin-left:auto;margin-right:auto;" class="reveal reveal-d2">Tableaux, éclairage, domotique, dépannage — nos réalisations en images.</p>
    </div>
    <div class="gal-filters reveal">{categories.map(cat => <button class={`gal-filter ${cat==='Tous'?'active':''}`} data-filter={cat}>{cat}</button>)}</div>
    <div class="gal-grid" id="galGrid">{toutes.map((r,i) => (
      <div class={`gal-item blur-sharp ${i%5===0?'gal-wide':''}`} data-cat={r.categorie}>
        <div class="img-zoom"><img src={r.image} alt={r.alt} loading="lazy" /></div>
        <div class="gal-cap"><span class="gal-cat font-mono">{r.categorie}</span><span>{r.alt}</span></div>
      </div>
    ))}</div>
    <div style="text-align:center;margin-top:48px;" class="reveal"><a href="/#devis" class="btn-blue btn-lg">Demander un devis →</a></div>
  </div></section>
</Layout>
<script>
  const filters=document.querySelectorAll('.gal-filter'),items=document.querySelectorAll('.gal-item');
  filters.forEach(btn=>{btn.addEventListener('click',()=>{filters.forEach(f=>f.classList.remove('active'));btn.classList.add('active');const cat=(btn as HTMLElement).dataset.filter;items.forEach(item=>{const el=item as HTMLElement;if(cat==='Tous'||el.dataset.cat===cat){el.style.display='';el.style.animation='fadeSlideIn 0.4s ease forwards';}else{el.style.display='none';}});});});
</script>
<style>
  .page-top{padding:100px 0 0;} .back-link{color:var(--blue-light);font-size:14px;font-weight:500;}
  .sec-tag{display:block;font-size:11px;color:var(--blue);letter-spacing:0.15em;margin-bottom:8px;}
  .sec-title{font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;color:var(--white);line-height:1.12;}
  .gal-filters{display:flex;justify-content:center;gap:8px;margin-bottom:36px;flex-wrap:wrap;}
  .gal-filter{padding:8px 20px;border-radius:100px;border:1px solid var(--border);background:var(--bg-card);font-family:'Space Grotesk',sans-serif;font-size:13px;font-weight:600;color:var(--text-muted);cursor:pointer;transition:all 0.3s;}
  .gal-filter:hover{border-color:var(--blue);color:var(--blue-light);}.gal-filter.active{background:var(--blue);color:#fff;border-color:var(--blue);}
  .gal-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
  .gal-item{border-radius:14px;overflow:hidden;position:relative;cursor:pointer;}.gal-wide{grid-column:span 2;}.gal-item img{width:100%;aspect-ratio:4/3;object-fit:cover;}.gal-wide img{aspect-ratio:16/9;}
  .gal-cap{position:absolute;bottom:0;left:0;right:0;padding:14px;background:linear-gradient(transparent,rgba(0,0,0,0.7));display:flex;flex-direction:column;gap:2px;}
  .gal-cat{font-size:10px;color:var(--blue-pale);letter-spacing:0.06em;}.gal-cap span:last-child{font-size:13px;color:rgba(255,255,255,0.7);}
  .btn-blue{display:inline-flex;align-items:center;gap:8px;padding:15px 32px;border-radius:12px;background:var(--blue);color:#fff;font-weight:700;font-size:15px;border:none;cursor:pointer;transition:all 0.3s;} .btn-blue:hover{background:var(--blue-dark);transform:translateY(-2px);} .btn-lg{padding:18px 40px;font-size:16px;}
  @media(max-width:768px){.gal-grid{grid-template-columns:1fr;}.gal-wide{grid-column:span 1;}}
</style>
